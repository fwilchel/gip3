<?xml version="1.0" encoding="iso-8859-1"?>
<ui:composition 
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:p="http://primefaces.org/ui"
  xmlns:misc="http://java.sun.com/jsf/composite/misc"
  template="/ui/templates/general.xhtml">

  <ui:define name="title">.::Interfaz entre ICG y SAP::. .::#{msg.TituloConsultarRequerimientoExportacion}::.</ui:define>

  <ui:define name="contenido">
    <p:spacer height="40"></p:spacer>
    <h:form prependId="false" id="forma">

      <p:messages 
        id="msgs" showDetail="false" showSummary="true"
        globalOnly="false" showIcon="true"></p:messages>

      <p:tabView id="tabPanel">
        <p:tab title="#{msg.TituloConsultarRequerimientoExportacion}">

          <p:panel
            id="pnlFtlDocumentos">
            <p:panelGrid
              columns="3"
              styleClass="noBorders">
              <!--filtroFechaActual-->
              <p:outputLabel 
                for="filtroFechaActual" 
                value="#{msg.generalFechaActual}" 
                styleClass="label"/>
              <h:outputText
                id="filtroFechaActual"
                value="#{reimprimirFacturaExpoMB.fechaActual}">
                <f:convertDateTime 
                  pattern="dd/MM/yyyy hh:mm:ss a"/>
              </h:outputText>
              <p:message
                for="filtroFechaActual"/>
              <!--filtroConsecutivoDocumento-->
              <p:outputLabel 
                for="filtroConsecutivoDocumento" 
                value="#{msg.IngresarNumFX}" 
                styleClass="label"/>
              <p:inputText 
                id="filtroConsecutivoDocumento" 
                value="#{generarReporteRequerimientoExportacionMB.filtroConsecutivoDocumento}" 
                maxlength="40" 
                label="#{msg.IngresarNumFX}"/>
              <p:message
                for="filtroConsecutivoDocumento"/>
              <f:facet
                name="footer">
                <p:commandButton
                  value="#{msg.gfFltBtnBuscar}"
                  actionListener="#{generarReporteRequerimientoExportacionMB.consultarRequerimientoExportacion()}"
                  update=":forma:msgs tabla"/>
              </f:facet>
            </p:panelGrid>
          </p:panel>

          <p:dataTable 
            var="ReqExpo" widgetVar="facturasExpoTabla"
            id="tabla" scrollable="true" scrollWidth="1000px"
            value="#{generarReporteRequerimientoExportacionMB.listaRequerimientoExportacion}"
            rows="10" emptyMessage="#{msg.generalNoDatos}" paginator="true"
            paginatorPosition="bottom"
            paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
            rowsPerPageTemplate="5,10,15">

            <f:facet name="header">
              <div align="right">
                <p:outputPanel>
                  <p:spacer width="30"></p:spacer>
                  <h:outputText 
                    value="#{msg.generalBuscarTodosCampos}: " />
                  <p:inputText 
                    id="globalFilter"
                    onkeyup="PF('facturasExpoTabla').filter()" style="width:150px"
                    placeholder="#{msg.generalPalabrasBuscar}" />
                  <p:spacer width="30"></p:spacer>
                  <p:commandButton 
                    action="introduccion"
                    title="#{msg.generalCancelar}" ajax="false"
                    icon="ui-icon-cancel" value="#{msg.generalCancelar}" />
                </p:outputPanel>
              </div>
            </f:facet>

           
           
           
           
           
           
            <p:column 
              filterBy="#{ReqExpo.id}" style="width:100px"
              headerText="#{msg.CodigoGipSP}" filterMatchMode="contains"
              sortBy="#{ReqExpo.id}">
              <h:outputText value="#{ReqExpo.id}" />
            </p:column>

            <p:column 
              filterBy="#{ReqExpo.fecha}"
              style="width:100px" headerText="#{msg.ConsecutivoFP}"
              filterMatchMode="contains"
              sortBy="#{ReqExpo.fecha}">
              <h:outputText value="#{ReqExpo.fecha}" />
            </p:column>

            <p:column 
              filterBy="#{ReqExpo.estado}"
              style="width:100px"
              headerText="#{msg.RequisicionNombreFechaGenerado}"
              filterMatchMode="contains"
              sortBy="#{ReqExpo.estado}">
              <h:outputText value="#{ReqExpo.estado}">
                <f:convertDateTime pattern="dd-MMM-yyyy" />
              </h:outputText>
            </p:column>

          </p:dataTable>
        </p:tab>
      </p:tabView>
    </h:form>

    


      
  </ui:define>

</ui:composition>

