<?xml version="1.0" encoding="iso-8859-1"?>
<ui:composition 
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:p="http://primefaces.org/ui"
  xmlns:misc="http://java.sun.com/jsf/composite/misc"
  template="/ui/templates/general.xhtml">

  <ui:define 
    name="title">.::Interfaz entre ICG y SAP::. .::#{msg.UsuarioAdminUsuariosTitulo}::.
  </ui:define>

  <ui:define 
    name="contenido">

    <p:spacer 
      height="40"/>

    <h:form 
      id="forma"
      prependId="false" >

      <p:messages 
        id="msgs" />

      <p:tabView 
        id="pnlTab">

        <p:tab 
          title="#{msg.iieTitle}">

          <p:dataTable 
            id="tblTerminosTransporte"
            widgetVar="tblTerminosTransporte" 
            var="terminoTransporte" 
            value="#{imprimirInstruccionEmbarque.listaTerminosTransporte}" 
            rows="10"
            emptyMessage="#{msg.generalNoDatos}" 
            paginator="true"
            paginatorPosition="bottom"
            paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
            rowsPerPageTemplate="5,10,15">

            <f:facet 
              name="header">
              <div 
                align="right">
                <p:outputPanel>
                  <h:outputText 
                    value="#{msg.generalBuscarTodosCampos}: " />
                  <p:inputText 
                    id="globalFilter"
                    onkeyup="PF('tblTerminosTransporte').filter()" 
                    style="width:150px"
                    placeholder="#{msg.generalPalabrasBuscar}" />
                  <p:spacer 
                    width="30">
                  </p:spacer>				
                  <p:commandButton 
                    action="introduccion" 
                    title="#{msg.generalCancelar}" 
                    ajax="false"
                    icon="ui-icon-cancel" 
                    value="#{msg.generalCancelar}" />
                </p:outputPanel>
              </div>
            </f:facet>

            <!-- opcion ver el registro -->
            <p:column 
              style="width:32px;text-align: center">
              <p:commandButton 
                icon="ui-icon-pencil" 
                title="#{msg.iieListBtnDetalle}"
                actionListener="#{imprimirInstruccionEmbarque.seleccionarTerminoTransporte(terminoTransporte)}"
                oncomplete="PF('dlgConfirmacion').show()"
                update=":dlgConfirmacion">
              </p:commandButton>
            </p:column>

            <!-- codigo gip -->
            <p:column   
              headerText="#{msg.iieListTblClmCodigoGip}"
              sortBy="#{terminoTransporte.id}"
              filterBy="#{terminoTransporte.id}"
              filterMatchMode="contains">
              <h:outputText 
                value="#{terminoTransporte.id}" />
            </p:column>

            <!-- cliente -->
            <!--            <p:column 
                          headerText="#{msg.iieListTblClmCliente}"
                          sortBy="#{terminoTransporte.cliente.nombre}"
                          filterBy="#{terminoTransporte.cliente.nombre}"
                          filterMatchMode="contains">
                          <h:outputText 
                            value="#{terminoTransporte.cliente.nombre}" />
                        </p:column>-->

            <!-- fecha embarque -->
            <p:column 
              headerText="#{msg.iieListTblClmFechaEmbarque}"
              sortBy="#{terminoTransporte.fechaEmbarque}"
              filterBy="#{terminoTransporte.fechaEmbarque}"
              filterMatchMode="contains">
              <h:outputText 
                value="#{terminoTransporte.fechaEmbarque}" >
                <f:convertDateTime 
                  pattern="dd-MMM-yyyy"/>
              </h:outputText>
            </p:column>

          </p:dataTable>

        </p:tab>

      </p:tabView>

    </h:form>

    <p:dialog 
      id="dlgConfirmacion" 
      widgetVar="dlgConfirmacion" 
      header="#{msg.spaTitle}" 
      resizable="false" 
      showEffect="clip" 
      hideEffect="clip"
      modal="true">
      <p:ajax 
        event="close" 
        listener="#{imprimirInstruccionEmbarque.cancelar()}" />
      <h:form
        id="formaDetalle"
        prependId="false">
        <p:panel>
          <p:fieldset 
            legend="#{msg.iieDtlTitleCliente}">
            <h:panelGrid 
              columns="4">
              <h:outputLabel 
                for="nombreCliente"
                value="#{msg.iieDtlLblCliente}"
                styleClass="negrita"/>
              <h:outputText
                id="nombreCliente"
                value="#{imprimirInstruccionEmbarque.cliente.nombre}" />
              <h:outputLabel 
                for="direccionCliente"
                value="#{msg.iieDtlLblDireccion}"
                styleClass="negrita"/>
              <h:outputText
                id="direccionCliente"
                value="#{imprimirInstruccionEmbarque.cliente.direccion}" />
              <h:outputLabel 
                for="telefonoCliente"
                value="#{msg.iieDtlLblTelefono}"
                styleClass="negrita"/>
              <h:outputText
                id="telefonoCliente"
                value="#{imprimirInstruccionEmbarque.cliente.telefono}" />
              <h:outputLabel 
                for="contactoCliente"
                value="#{msg.iieDtlLblContacto}"
                styleClass="negrita"/>
              <h:outputText
                id="contactoCliente"
                value="#{imprimirInstruccionEmbarque.cliente.contacto}" />
              <h:outputLabel 
                for="ciudadCliente"
                value="#{msg.iieDtlLblCiudad}"
                styleClass="negrita"/>
              <h:outputText
                id="ciudadCliente"
                value="#{imprimirInstruccionEmbarque.cliente.ciudad.nombre}" />
              <h:outputLabel 
                for="paisCliente"
                value="#{msg.iieDtlLblPais}"
                styleClass="negrita"/>
              <h:outputText
                id="paisCliente"
                value="#{imprimirInstruccionEmbarque.cliente.ciudad.pais.nombre}" />
            </h:panelGrid>
          </p:fieldset>
          <!---->
          <p:fieldset 
            legend="#{msg.iieDtlTitleFactura}">
            <ui:remove>
              <p:dataTable 
                id="tblFacturas"
                var="factura" 
                value="#{imprimirInstruccionEmbarque.seleccionado.documentos}" 
                emptyMessage="#{msg.generalNoDatos}" 
                paginator="false">
                <!-- Factura -->
                <p:column   
                  headerText="#{msg.iieDtlTblClmFactura}">
                  <h:outputText 
                    value="#{factura.id}" />
                </p:column>
                <!-- Lote -->
                <p:column   
                  headerText="#{msg.iieDtlTblClmLote}">
                  <h:outputText 
                    value="#{factura.id}" />
                </p:column>
                <!-- Descripción -->
                <p:column   
                  headerText="#{msg.iieDtlTblClmDescripcion}">
                  <h:outputText 
                    value="#{factura.id}" />
                </p:column>
                <!-- Cantidad Cajas -->
                <p:column   
                  headerText="#{msg.iieDtlTblClmCantidadCajas}">
                  <h:outputText 
                    value="#{factura.id}" />
                </p:column>
                <!-- Pedido No. -->
                <p:column   
                  headerText="#{msg.iieDtlTblClmPedidoNo}">
                  <h:outputText 
                    value="#{factura.id}" />
                </p:column>
                <!-- Asignación No. -->
                <p:column   
                  headerText="#{msg.iieDtlTblClmAsignacionNo}">
                  <h:outputText 
                    value="#{factura.id}" />
                </p:column>
                <!-- Aviso No. -->
                <p:column   
                  headerText="#{msg.iieDtlTblClmAvisoNo}">
                  <h:outputText 
                    value="#{factura.id}" />
                </p:column>
              </p:dataTable>
            </ui:remove>
          </p:fieldset>
          <!---->
          <p:fieldset 
            legend="#{msg.iieDtlTitleEmbarque}" >
            <h:panelGrid 
              columns="4">
              <!-- Sociedad de Intermediación Aduanera No.1 -->
              <h:outputLabel 
                for="sociedadIntermediacionAduanera1"
                value="#{msg.iieDtlLblSociedadIntermediacionAduanera1}"
                styleClass="negrita"/>
              <h:outputText
                id="sociedadIntermediacionAduanera1"
                value="" />
              <!-- Sociedad de Intermediación Aduanera No.2 -->
              <h:outputLabel 
                for="sociedadIntermediacionAduanera2"
                value="#{msg.iieDtlLblSociedadIntermediacionAduanera2}"
                styleClass="negrita"/>
              <h:outputText
                id="sociedadIntermediacionAduanera2"
                value="" />
              <!-- Mes de Embarque -->
              <h:outputLabel 
                for="mesEmbarque"
                value="#{msg.iieDtlLblMesEmbarque}"
                styleClass="negrita"/>
              <h:outputText
                id="mesEmbarque"
                value="" />
              <!-- Puerto de Embarque -->
              <h:outputLabel 
                for="puertoEmbarque"
                value="#{msg.iieDtlLblPuertoEmbarque}"
                styleClass="negrita"/>
              <h:outputText
                id="puertoEmbarque"
                value="" />
              <!-- Fecha de Embarque -->
              <h:outputLabel 
                for="fechaEmbarque"
                value="#{msg.iieDtlLblFechaEmbarque}"
                styleClass="negrita"/>
              <h:outputText
                id="fechaEmbarque"
                value="" />
              <!-- Naviera -->
              <h:outputLabel 
                for="naviera"
                value="#{msg.iieDtlLblNaviera}"
                styleClass="negrita"/>
              <h:outputText
                id="naviera"
                value="" />
              <!-- Linea -->
              <h:outputLabel 
                for="linea"
                value="#{msg.iieDtlLblLinea}"
                styleClass="negrita"/>
              <h:outputText
                id="linea"
                value="" />
              <!-- Buque -->
              <h:outputLabel 
                for="buque"
                value="#{msg.iieDtlLblBuque}"
                styleClass="negrita"/>
              <h:outputText
                id="buque"
                value="" />
              <!-- Seguro -->
              <h:outputLabel 
                for="seguro"
                value="#{msg.iieDtlLblSeguro}"
                styleClass="negrita"/>
              <h:outputText
                id="seguro"
                value="" />
              <!-- Tipo Contenedor -->
              <h:outputLabel 
                for="tipoContenedor"
                value="#{msg.iieDtlLblTipoContenedor}"
                styleClass="negrita"/>
              <h:outputText
                id="tipoContenedor"
                value="" />
              <!-- Cantidad de Contenedores -->
              <h:outputLabel 
                for="cantidadContenedores"
                value="#{msg.iieDtlLblCantidadContenedores}"
                styleClass="negrita"/>
              <h:outputText
                id="cantidadContenedores"
                value="" />
              <!-- Numero de Contenedor -->
              <h:outputLabel 
                for="numeroContenedor"
                value="#{msg.iieDtlLblNumeroContenedor}"
                styleClass="negrita"/>
              <h:outputText
                id="numeroContenedor"
                value="" />
              <!-- Sello de Seguridad -->
              <h:outputLabel 
                for="sellosSeg"
                value="#{msg.iieDtlLblSellosSeg}"
                styleClass="negrita"/>
              <h:outputText
                id="sellosSeg"
                value="" />
              <!-- 	Precintos -->
              <h:outputLabel 
                for="precintos"
                value="#{msg.iieDtlLblPrecintos}"
                styleClass="negrita"/>
              <h:outputText
                id="precintos"
                value="" />
              <!-- Modalidad de Embarque -->
              <h:outputLabel 
                for="modalidadEmbarque"
                value="#{msg.iieDtlLblintModalidadEmbarque}"
                styleClass="negrita"/>
              <h:outputText
                id="modalidadEmbarque"
                value="" />
              <!-- Incoterm de Despacho -->
              <h:outputLabel 
                for="incotermDespacho"
                value="#{msg.iieDtlLblIncotermDespacho}"
                styleClass="negrita"/>
              <h:outputText
                id="incotermDespacho"
                value="" />
              <!-- Observacion 1 -->
              <h:outputLabel 
                for="observacionTerminosTransporte"
                value="#{msg.iieDtlLblObservacionTerminosTransporte}"
                styleClass="negrita"/>
              <h:outputText
                id="observacionTerminosTransporte"
                value="" />
              <!-- Observacion 2 -->
              <h:outputLabel 
                for="observacionTerminosTransporte2"
                value="#{msg.iieDtlLblObservacionTerminosTransporte2}"
                styleClass="negrita"/>
              <h:outputText
                id="observacionTerminosTransporte2"
                value="" />
              <!-- Fecha ETA -->
              <h:outputLabel 
                for="fechaETA"
                value="#{msg.iieDtlLblFechaETA}"
                styleClass="negrita"/>
              <h:outputText
                id="fechaETA"
                value="" />
              <!-- Numero de Booking -->
              <h:outputLabel 
                for="numeroBooking"
                value="#{msg.iieDtlLblNumeroBooking}"
                styleClass="negrita"/>
              <h:outputText
                id="numeroBooking"
                value="" />
              <!-- Flete Externo: -->
              <h:outputLabel 
                for="fleteExterno"
                value="#{msg.iieDtlLblFleteExterno}"
                styleClass="negrita"/>
              <h:outputText
                id="fleteExterno"
                value="" />
              <!-- Pais Destino -->
              <h:outputLabel 
                for="paisDestino"
                value="#{msg.iieDtlLblPaisDestino}"
                styleClass="negrita"/>
              <h:outputText
                id="paisDestino"
                value="" />
              <!-- Ciudad Destino -->
              <h:outputLabel 
                for="ciudadDestino"
                value="#{msg.iieDtlLblCiudadDestino}"
                styleClass="negrita"/>
              <h:outputText
                id="ciudadDestino"
                value="" />
            </h:panelGrid>
          </p:fieldset>
          <!-- botones -->
          <f:facet
            name="footer">
            <!-- Imprimir Instrucción de Embarque -->
            <p:commandButton 
              value="#{msg.generalConfirmar}" 
              styleClass="ui-confirmdialog-yes" 
              icon="ui-icon-check" 
              actionListener="#{imprimirInstruccionEmbarque.imprimirInstruccionEmbarque()}"
              oncomplete="PF('dlgConfirmacion').hide()"
              update=":forma:msgs"/>
            <!-- cancelar -->
            <p:commandButton 
              value="#{msg.generalCancelar}" 
              styleClass="ui-confirmdialog-no" 
              icon="ui-icon-close" 
              actionListener="#{imprimirInstruccionEmbarque.cancelar()}"
              oncomplete="PF('dlgConfirmacion').hide()"
              update=":forma:msgs"/>
          </f:facet>
        </p:panel>

      </h:form>          
    </p:dialog>

  </ui:define>

</ui:composition>